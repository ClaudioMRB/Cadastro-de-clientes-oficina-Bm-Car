<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
    <form method="post" action="/cliente/login">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="senha">Senha:</label>
        <input type="password" id="senha" name="senha" required><br>

        <button type="submit">Entrar</button>
    </form>

    <div id="dados-cliente">
        <!-- Aqui serão exibidos os dados do cliente após o login -->
       <script> const form = document.querySelector('form');
const dadosCliente = document.querySelector('#dados-cliente');

form.addEventListener('submit', event => {
    event.preventDefault();

    const email = form.elements.email.value;
    const senha = form.elements.senha.value;

    fetch('/cliente/login', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({email, senha})
    })
    .then(response => {
        if (response.ok) {
            return response.json();
        } else {
            throw new Error('Credenciais inválidas');
        }
    })
    .then(cliente => {
        dadosCliente.innerHTML = `
            <p>Nome: ${cliente.nome}</p>
            <p>CPF: ${cliente.cpf}</p>
            <p>Email: ${cliente.email}</p>
        `;
    })
    .catch(error => {
        alert(error.message);
    });
});
</script>
    </div>
</body>
</html>
